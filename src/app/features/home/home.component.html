<!-- HERO -->
<section class="hero">
  <div class="container grid">
    <article class="hero-main card">
      <ng-container *ngFor="let s of slides; let i = index">
        <div class="slide" [class.active]="i === current" [attr.aria-hidden]="i === current ? 'false':'true'">
          <div class="badge-price" *ngIf="s.priceBadge">{{ s.priceBadge }}</div>

          <div class="text">
            <p class="eyebrow">{{ s.eyebrow }}</p>
            <h1>{{ s.title }}</h1>
            <p class="desc">{{ s.desc }}</p>
            <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
            <button class="add-cart-icon" (click)="addToCart({slug:s.title, title:s.title, price:s.price, img:s.img})">
              <span class="material-icons">add</span>
            </button>
          </div>

          <!-- wrapper para forçar tamanho igual nas imagens do HERO -->
          <div class="hero-imgwrap">
            <img [src]="s.img" [alt]="s.alt" />
          </div>
        </div>
      </ng-container>

      <div class="dots" role="tablist" aria-label="Slides">
        <button *ngFor="let _ of slides; let i = index" class="dot" [class.active]="i === current" (click)="goToHero(i)"
          [attr.aria-selected]="i === current" [attr.aria-label]="'Ir para o slide ' + (i + 1)">
        </button>
      </div>
    </article>

    <!-- Cards laterais (também envolvi a imagem para consistência) -->
    <div class="hero-side">
      <article class="side card">
        <div class="ribbon">-25%</div>
        <h3>Promoção de Verão</h3>
        <p>Linux + Shell + Redes</p>

        <button class="add-cart-icon" (click)="addToCart({
      slug:'redes-linux', title:'Redes Linux Avançadas', price:89, img:'https://imagens.disal.com.br/produtos/ampliada/1191128.jpg'
    })" aria-label="Adicionar ao carrinho">
          <span class="material-icons">add</span>
        </button>

        <div class="side-imgwrap">
          <a routerLink="/catalog" [queryParams]="{cat:'netsec'}">
            <img src="https://imagens.disal.com.br/produtos/ampliada/1191128.jpg" alt="Linux e Redes" />
          </a>
        </div>
      </article>

      <article class="side card">
        <h3>Lançamento</h3>
        <p>“Arquitetura de Software Moderna”</p>

        <button class="add-cart-icon" (click)="addToCart({
      slug:'arquitetura-moderna', title:'Arquitetura de Software Moderna', price:99, img:'https://m.media-amazon.com/images/I/81ZE1M+bueL._UF1000,1000_QL80_.jpg'
    })" aria-label="Adicionar ao carrinho">
          <span class="material-icons">add</span>
        </button>

        <div class="side-imgwrap">
          <a routerLink="/product/arquitetura-software-moderna">
            <img src="https://m.media-amazon.com/images/I/81ZE1M+bueL._UF1000,1000_QL80_.jpg"
              alt="Arquitetura de Software" />
          </a>
        </div>
      </article>
    </div>
  </div>
</section>

<section class="products-carousel">
  <div class="container">
    <header class="pc-head">
      <h2>Em destaque</h2>
      <div class="controls">
        <button class="ctrl" (click)="prevProducts()" aria-label="Anterior">
          <span class="material-icons">chevron_left</span>
        </button>
        <button class="ctrl" (click)="nextProducts()" aria-label="Próximo">
          <span class="material-icons">chevron_right</span>
        </button>
      </div>
    </header>

    <div class="viewport" #prodViewport>
      <div class="track">
        <div class="p-card" *ngFor="let p of products">
          <a [routerLink]="'/product/' + p.slug" [title]="p.title">
            <div class="imgwrap">
              <img [src]="p.img" [alt]="p.title">
            </div>
            <h3>{{ p.title }}</h3>
            <p class="price">{{ p.price | currency:'BRL':'symbol-narrow':'1.2-2' }}</p>
          </a>
          <button class="add-cart-icon" (click)="addToCart(p)" aria-label="Adicionar ao carrinho">
            <span class="material-icons">add</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="benefits">
  <div class="container">
    <h3 class="benefits-title">Aproveite estes benefícios exclusivos:</h3>
    <div class="benefits-row">
      <div class="benefit">
        <span class="material-icons icon">local_shipping</span>
        <span>Entrega Rápida – Envio em até 24h</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">autorenew</span>
        <span>Troca em 14 dias – Garantia de satisfação</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">verified_user</span>
        <span>Pagamento Seguro – PIX & Cartão</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">headset_mic</span>
        <span>Suporte 24/7 – Atendimento da editora</span>
      </div>
    </div>
  </div>
</section>
<!-- HERO -->
<section class="hero">
  <div class="container grid">
    <article class="hero-main card">
      <ng-container *ngFor="let s of slides; let i = index">
        <div class="slide" [class.active]="i === current" [attr.aria-hidden]="i === current ? 'false':'true'">
          <div class="badge-price" *ngIf="s.priceBadge">{{ s.priceBadge }}</div>
          <div class="text">
            <p class="eyebrow">{{ s.eyebrow }}</p>
            <h1>{{ s.title }}</h1>
            <p class="desc">{{ s.desc }}</p>
            <a class="btn" [routerLink]="s.ctaLink">{{ s.ctaText }}</a>
            <button class="btn add-cart" (click)="addToCart(s)">
              <span class="material-icons">add_shopping_cart</span> Adicionar
            </button>
          </div>
          <img [src]="s.img" [alt]="s.alt" />
        </div>
      </ng-container>

      <div class="dots" role="tablist" aria-label="Slides">
        <button
          *ngFor="let _ of slides; let i = index"
          class="dot"
          [class.active]="i === current"
          (click)="goToHero(i)"
          [attr.aria-selected]="i === current"
          [attr.aria-label]="'Ir para o slide ' + (i + 1)">
        </button>
      </div>
    </article>

    <!-- Cards laterais -->
    <div class="hero-side">
      <article class="side card">
        <div class="ribbon">-25%</div>
        <h3>Promoção de Verão</h3>
        <p>Linux + Shell + Redes</p>
        <a class="link" routerLink="/catalog" [queryParams]="{cat:'netsec'}">VER OFERTA</a>
        <button class="btn add-cart" (click)="addToCart({
          slug:'redes-linux', title:'Redes Linux Avançadas', price:89, img:'/assets/prod/linux-network.png'
        })">
          <span class="material-icons">add_shopping_cart</span> Adicionar
        </button>
        <img src="/assets/hero/linux-network.png" alt="Linux e Redes" />
      </article>

      <article class="side card">
        <h3>Lançamento</h3>
        <p>“Arquitetura de Software Moderna”</p>
        <a class="link" routerLink="/product/arquitetura-software-moderna">SAIBA MAIS</a>
        <button class="btn add-cart" (click)="addToCart({
          slug:'arquitetura-moderna', title:'Arquitetura de Software Moderna', price:99, img:'/assets/prod/arch-modern.png'
        })">
          <span class="material-icons">add_shopping_cart</span> Adicionar
        </button>
        <img src="/assets/hero/arch-modern.png" alt="Arquitetura de Software" />
      </article>
    </div>
  </div>
</section>

<!-- Carrossel de Produtos -->
<section class="products-carousel">
  <div class="container">
    <header class="pc-head">
      <h2>Em destaque</h2>
      <div class="controls">
        <button class="ctrl" (click)="prevProducts()" aria-label="Anterior">
          <span class="material-icons">chevron_left</span>
        </button>
        <button class="ctrl" (click)="nextProducts()" aria-label="Próximo">
          <span class="material-icons">chevron_right</span>
        </button>
      </div>
    </header>

    <div class="viewport" #prodViewport>
      <div class="track">
        <div class="p-card" *ngFor="let p of products">
          <a [routerLink]="'/product/' + p.slug" [title]="p.title">
            <div class="imgwrap">
              <img [src]="p.img" [alt]="p.title">
            </div>
            <h3>{{ p.title }}</h3>
            <p class="price">{{ p.price | currency:'BRL':'symbol-narrow':'1.2-2' }}</p>
          </a>
          <button class="btn add-cart" (click)="addToCart(p)">
            <span class="material-icons">add_shopping_cart</span> Adicionar
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Benefícios -->
<section class="benefits">
  <div class="container">
    <h3 class="benefits-title">Aproveite estes benefícios exclusivos:</h3>
    <div class="benefits-row">
      <div class="benefit">
        <span class="material-icons icon">local_shipping</span>
        <span>Entrega Rápida – Envio em até 24h</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">autorenew</span>
        <span>Troca em 14 dias – Garantia de satisfação</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">verified_user</span>
        <span>Pagamento Seguro – PIX & Cartão</span>
      </div>
      <div class="benefit">
        <span class="material-icons icon">headset_mic</span>
        <span>Suporte 24/7 – Atendimento da editora</span>
      </div>
    </div>
  </div>
</section>
